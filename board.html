<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <title>Board Viewer</title>

  <base href="/minnow/">

  <script src='bower_components/webcomponentsjs/webcomponents-lite.min.js'></script>
  <script src='fetch.js'></script>

  <link rel='import' href='bower_components/app-route/app-location.html'>
  <link rel='import' href='bower_components/app-route/app-route.html'>

  <link rel="import" href="elements/board-viewer/board-viewer.html">

  <link href="theme/images/favicon.ico" rel="icon" type="image/x-icon">

  <link rel='stylesheet' href='theme/vendor/font-awesome/css/font-awesome.min.css'>
  <link rel='stylesheet' href='theme/css/styles.css'>

  <link href='https://fonts.googleapis.com/css?family=Roboto:400,700,500' rel='stylesheet' type='text/css'>

  <style is="custom-style" include="iron-flex iron-flex-alignment">
    :root {
      --primary-color-1: #23ccfc; // Blue.
      --primary-color-2: #7be52b; // Green.
      --darkgray: #3b404c;
      --lightgray: #9da0a6;
      --bg-md: #f0f0e2;
      --bg-l: #f8f8f1;
      --tablet: 767px;

      --base-font-family: "Roboto, Helvetica, Arial, sans-serif";
      --base-font-size: 14px;
      --base-line-height: 20px;
      --base-font-color: var(--darkgray);
    }
  </style>

  <style>
  </style>
</head>

<dom-module id="x-app">
  <template>
    <style>
    </style>

    <app-location use-hash-as-path id="location" route="{{route}}"></app-location>
    <app-route route="{{route}}" pattern="/:tab" data="{{routeData}}" tail="{{subRoute}}">
    </app-route>

    <template is="dom-if" if="[[_isBoardViewer(routeData)]]">
      <board-viewer route="{{subRoute}}"></board-viewer>
    </template>
  </template>

  <script>
    Polymer({
      is: "x-app",
      properties: {
        route: {
          type: Object,
          observer: "onRouteChange"
        },
        routeData: {
          type: Object,
          observer: "onRouteDataChange"
        },
        subRoute: {
          type: Object,
          observer: "onSubRouteChange"
        }
      },

      _isBoardViewer: function(routeData) {
        return (routeData.tab == "board-viewer");
      },

      onRouteDataChange: function(value) {
        console.log('Route data changed: ', value);
      },

      onSubRouteChange: function(value) {
        console.log('SubRoute changed: ', value);
      },

      onRouteChange: function(value) {
        console.log('Route changed: ', value);
      }
    });
  </script>
</dom-module>

<body class="fullbleed layout vertical" style="margin:0">
  <x-app class="flex"></x-app>
</body>

</html>
